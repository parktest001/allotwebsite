{"remainingRequest":"/Users/kamal/Desktop/project/node_modules/babel-loader/lib/index.js!/Users/kamal/Desktop/project/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/kamal/Desktop/project/src/components/Upload.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/kamal/Desktop/project/src/components/Upload.vue","mtime":1585579339852},{"path":"/Users/kamal/Desktop/project/node_modules/cache-loader/dist/cjs.js","mtime":1585476021405},{"path":"/Users/kamal/Desktop/project/node_modules/babel-loader/lib/index.js","mtime":1529635966000},{"path":"/Users/kamal/Desktop/project/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\nimport _objectSpread from \"/Users/kamal/Desktop/project/node_modules/@babel/runtime/helpers/builtin/es6/objectSpread\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport firebase from \"firebase\";\nimport { mapGetters } from \"vuex\";\nexport default {\n  data: function data() {\n    return {\n      mobnum: \"null\",\n      otp: \"\",\n      text: null,\n      result: null,\n      fileGlobe: null,\n      imgSrc: null,\n      description: \"\",\n      source: null\n    };\n  },\n  computed: _objectSpread({}, mapGetters({\n    // map `this.user` to `this.$store.getters.user`\n    user: \"user\"\n  })),\n  methods: {\n    uploadSingleImage: function uploadSingleImage() {\n      var self = this;\n      window.description = this.description;\n      window.username = this.user.data.displayName;\n      var ref = firebase.storage().ref();\n      var file = document.querySelector('#myfile').files[0];\n      var name = +new Date() + '-' + file.name;\n      window.imgname = file.name;\n      this.fileGlobe = file;\n      this.imgSrc = file.src;\n      var metadata = {\n        contentType: file.type\n      };\n      var task = ref.child(name).put(file, metadata);\n      task.then(function (snapshot) {\n        return snapshot.ref.getDownloadURL();\n      }).then(function (url) {\n        console.log(url);\n        window.url = url;\n        document.getElementById('uploadedimg').src = url;\n        self.source = url;\n        self.saveMeta();\n      }).catch(console.error);\n    },\n    saveMeta: function saveMeta() {\n      var database = firebase.database();\n      var date = new Date();\n      var time = date.getTime();\n      firebase.database().ref(time).set({\n        description: window.description,\n        name: window.username,\n        profile_picture: window.imgname,\n        url: window.url\n      });\n    }\n  }\n};",{"version":3,"sources":["Upload.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+BA,OAAA,QAAA,MAAA,UAAA;AACA,SAAA,UAAA,QAAA,MAAA;AAEA,eAAA;AACA,MADA,kBACA;AACA,WAAA;AACA,cAAA,MADA;AAEA,WAAA,EAFA;AAGA,YAAA,IAHA;AAIA,cAAA,IAJA;AAKA,iBAAA,IALA;AAMA,cAAA,IANA;AAOA,mBAAA,EAPA;AAQA,cAAA;AARA,KAAA;AAUA,GAZA;AAaA,8BACA,WAAA;AACA;AACA,UAAA;AAFA,GAAA,CADA,CAbA;AAmBA,WAAA;AAGA,qBAHA,+BAGA;AACA,UAAA,OAAA,IAAA;AACA,aAAA,WAAA,GAAA,KAAA,WAAA;AACA,aAAA,QAAA,GAAA,KAAA,IAAA,CAAA,IAAA,CAAA,WAAA;AACA,UAAA,MAAA,SAAA,OAAA,GAAA,GAAA,EAAA;AACA,UAAA,OAAA,SAAA,aAAA,CAAA,SAAA,EAAA,KAAA,CAAA,CAAA,CAAA;AACA,UAAA,OAAA,CAAA,IAAA,IAAA,EAAA,GAAA,GAAA,GAAA,KAAA,IAAA;AACA,aAAA,OAAA,GAAA,KAAA,IAAA;AACA,WAAA,SAAA,GAAA,IAAA;AACA,WAAA,MAAA,GAAA,KAAA,GAAA;AACA,UAAA,WAAA;AACA,qBAAA,KAAA;AADA,OAAA;AAGA,UAAA,OAAA,IAAA,KAAA,CAAA,IAAA,EAAA,GAAA,CAAA,IAAA,EAAA,QAAA,CAAA;AACA,WACA,IADA,CACA;AAAA,eAAA,SAAA,GAAA,CAAA,cAAA,EAAA;AAAA,OADA,EAEA,IAFA,CAEA,UAAA,GAAA,EAAA;AACA,gBAAA,GAAA,CAAA,GAAA;AACA,eAAA,GAAA,GAAA,GAAA;AACA,iBAAA,cAAA,CAAA,aAAA,EAAA,GAAA,GAAA,GAAA;AACA,aAAA,MAAA,GAAA,GAAA;AACA,aAAA,QAAA;AACA,OARA,EASA,KATA,CASA,QAAA,KATA;AAeA,KAhCA;AAiCA,YAjCA,sBAkCA;AACA,UAAA,WAAA,SAAA,QAAA,EAAA;AACA,UAAA,OAAA,IAAA,IAAA,EAAA;AACA,UAAA,OAAA,KAAA,OAAA,EAAA;AACA,eAAA,QAAA,GAAA,GAAA,CAAA,IAAA,EAAA,GAAA,CAAA;AACA,qBAAA,OAAA,WADA;AAEA,cAAA,OAAA,QAFA;AAGA,yBAAA,OAAA,OAHA;AAIA,aAAA,OAAA;AAJA,OAAA;AAMA;AA5CA;AAnBA,CAAA","sourcesContent":["<template>\n  <div class=\"container\">\n    <div class=\"row justify-content-center\">\n      <div class=\"col-md-8\">\n        <div class=\"card\">\n          <div class=\"card-header\">Upload Image</div>\n          <div class=\"card-body\">\n              <div>\n              <div>    \n            <el-card :body-style=\"{ padding: '0px' }\">\n            <img id=\"someImageTagID\" class=\"image\">\n            <div style=\"padding: 14px;\">\n                <el-input v-model=\"description\"></el-input>\n                <div class=\"bottom clearfix\">\n                <el-button type=\"text\" class=\"button\">Operating</el-button>\n                </div>\n            </div>\n            </el-card>\n              </div>\n            <img :src=\"source\" />\n            <el-input type=\"file\" id=\"myfile\" name=\"myfile\" @select=\"showButton()\"></el-input>\n            <el-button @click=\"uploadSingleImage()\">Upload single image to public</el-button>\n            </div>\n            \n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport firebase from \"firebase\";\nimport { mapGetters } from \"vuex\";\n\nexport default {\n  data() {\n    return {\n        mobnum: \"null\",\n        otp: \"\",\n        text: null,\n        result: null,\n        fileGlobe: null,\n        imgSrc: null,\n        description : \"\",\n        source : null,\n    };\n  },\n  computed: {\n    ...mapGetters({\n// map `this.user` to `this.$store.getters.user`\n      user: \"user\"\n    })\n  },\n  methods: {\n\n \n    uploadSingleImage() {\n                var self=this\n                window.description = this.description\n                window.username = this.user.data.displayName\n                const ref = firebase.storage().ref();\n                const file = document.querySelector('#myfile').files[0]\n                const name = (+new Date()) + '-' + file.name;\n                window.imgname = file.name\n                this.fileGlobe=file\n                this.imgSrc=file.src\n                const metadata = {\n                contentType: file.type\n                };\n                const task = ref.child(name).put(file, metadata);\n                task\n                .then(snapshot => snapshot.ref.getDownloadURL())\n                .then((url) => {\n                    console.log(url);\n                    window.url=url\n                    document.getElementById('uploadedimg').src = url;\n                    self.source=url\n                    self.saveMeta()\n                })\n                .catch(console.error);\n\n\n\n\n                \n        },\n        saveMeta()\n        {\n                var database = firebase.database();\n                var date=new Date()\n                var time=date.getTime()\n                firebase.database().ref(time).set({\n                    description: window.description,\n                    name: window.username,\n                    profile_picture : window.imgname,\n                    url : window.url\n                });\n        }\n    },\n};\n</script>"],"sourceRoot":"src/components"}]}